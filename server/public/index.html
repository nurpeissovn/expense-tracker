<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Expense Tracker</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="sidebar.css" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app">
    <aside class="sidebar" id="section-budget">
      <div class="sidebar__top">
        <div class="logo-circle">F</div>
        <span class="logo-text">FinSet</span>
      </div>
      <nav class="sidebar__nav">
        <button class="nav-item active" data-target="section-dashboard">
          <span class="icon">ğŸ </span><span class="label">Dashboard</span>
        </button>
        <button class="nav-item" data-target="section-transactions">
          <span class="icon">ğŸ’³</span><span class="label">Transactions</span>
        </button>
        <button class="nav-item" data-target="section-budget">
          <span class="icon">ğŸ“Š</span><span class="label">Budget</span>
        </button>
        <button class="nav-item">
          <span class="icon">ğŸ‘›</span><span class="label">Wallet</span>
        </button>
        <button class="nav-item">
          <span class="icon">ğŸ¯</span><span class="label">Goals</span>
        </button>
        <button class="nav-item">
          <span class="icon">ğŸ“ˆ</span><span class="label">Analytics</span>
        </button>
        <button class="nav-item">
          <span class="icon">âš™ï¸</span><span class="label">Settings</span>
        </button>
      </nav>
      <div class="budget-box">
        <div class="budget-header">
          <span>Monthly Budget</span>
          <span class="muted" id="budgetStatus">Set</span>
        </div>
        <div class="budget-input">
          <span>â‚¸</span>
          <input id="budgetInput" type="number" min="0" step="1" placeholder="0" />
        </div>
        <div class="budget-progress">
          <div id="budgetBar"></div>
        </div>
        <p class="muted" id="budgetMessage">No budget set.</p>
        <div id="budgetItems" class="budget-items"></div>
        <button class="ghost-btn full" id="manageBudgetBtn" type="button">Manage monthly budget</button>
      </div>
      <div class="sidebar__bottom">
        <button class="nav-item">
          <span class="icon">â“</span><span class="label">Help</span>
        </button>
        <button class="nav-item">
          <span class="icon">â†©ï¸</span><span class="label">Log out</span>
        </button>
      </div>
    </aside>

    <main id="section-dashboard">
      <header class="top-bar">
        <div class="search-wrap">
          <input id="searchInput" type="search" placeholder="Search by note or category" />
          <span class="icon">ğŸ”</span>
        </div>
        <div class="actions">
          <label class="switch">
            <input id="themeToggle" type="checkbox" />
            <span class="slider"></span>
          </label>
          <div class="avatar">ğŸ™‚</div>
        </div>
      </header>

      <section class="kpi-grid">
        <article class="card kpi income">
          <div class="kpi-icon">ğŸ’°</div>
          <div>
            <p class="label">Total Income</p>
            <h2 id="incomeTotal">â‚¸0</h2>
          </div>
        </article>
        <article class="card kpi expense">
          <div class="kpi-icon">ğŸ’¸</div>
          <div>
            <p class="label">Total Expense</p>
            <h2 id="expenseTotal">â‚¸0</h2>
          </div>
        </article>
        <article class="card kpi balance">
          <div class="kpi-icon">ğŸ“Š</div>
          <div>
            <p class="label">Balance</p>
            <h2 id="balanceTotal">â‚¸0</h2>
          </div>
        </article>
      </section>

      <section class="grid charts">
        <article class="card chart-card">
          <div class="card-header">
            <h3>Expenses by Category</h3>
            <div class="legend" id="donutLegend"></div>
          </div>
          <div class="canvas-wrap skeleton" data-chart="donut">
            <canvas id="donutChart" width="320" height="240"></canvas>
          </div>
        </article>
        <article class="card chart-card">
          <div class="card-header">
            <h3>Spending Trend (30d)</h3>
          </div>
          <div class="canvas-wrap skeleton" data-chart="line">
            <canvas id="lineChart" width="320" height="240"></canvas>
          </div>
        </article>
        <article class="card chart-card">
          <div class="card-header">
            <h3>Daily Spending (This Month)</h3>
          </div>
          <div class="canvas-wrap skeleton" data-chart="bar">
            <canvas id="barChart" width="320" height="240"></canvas>
          </div>
        </article>
      </section>

      <section class="grid two-col">
        <article class="card form-card">
          <div class="card-header">
            <h3>Add Transaction</h3>
            <div class="badge">Quick add</div>
          </div>
          <form id="transactionForm">
            <div class="type-toggle">
              <button type="button" data-type="income" class="type-btn active">Income</button>
              <button type="button" data-type="expense" class="type-btn">Expense</button>
              <input type="hidden" id="type" value="income" />
            </div>
            <div class="field">
              <label>Amount</label>
              <input id="amount" type="number" step="0.01" min="0" placeholder="0.00" required />
              <small class="muted" id="amountHint"></small>
            </div>
            <div class="field">
              <label>Category</label>
              <div class="select-wrap">
                <span class="dot" id="categoryDot"></span>
                <input id="category" type="text" placeholder="e.g. Food, Bus" required />
              </div>
            </div>
            <div class="field">
              <label>Date</label>
              <input id="date" type="date" required />
            </div>
            <div class="field">
              <label>Note</label>
              <textarea id="note" rows="2" placeholder="Optional"></textarea>
            </div>
            <button type="submit" class="primary-btn ripple">Add Transaction</button>
          </form>
        </article>

        <article class="card insights-card">
          <div class="card-header">
            <h3>Insights</h3>
            <div class="badge ghost">Auto</div>
          </div>
          <ul id="insightsList" class="insights"></ul>
        </article>
      </section>

      <section class="card transactions-card" id="section-transactions">
        <div class="filter-bar">
          <div class="field">
            <label>Type</label>
            <select id="filterType">
              <option value="all">All</option>
              <option value="income">Income</option>
              <option value="expense">Expense</option>
            </select>
          </div>
          <div class="field">
            <label>Category</label>
            <select id="filterCategory">
              <option value="all">All categories</option>
            </select>
          </div>
          <div class="field">
            <label>Start</label>
            <input id="filterStart" type="date" />
          </div>
          <div class="field">
            <label>End</label>
            <input id="filterEnd" type="date" />
          </div>
        </div>
        <div id="transactionsList" class="transactions-list empty-state">
          <div class="empty">
            <div class="empty-icon">ğŸ—’ï¸</div>
            <p>No transactions yet. Add one to get started.</p>
            <button class="ghost-btn" id="quickAdd">Add Transaction</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div id="toast"></div>
  <nav class="mobile-nav">
    <button class="nav-btn active" data-target="section-dashboard">Dashboard</button>
    <button class="nav-btn" data-target="section-transactions">Transactions</button>
    <button class="nav-btn" data-target="section-budget">Budget</button>
  </nav>

  <div id="budgetModal" class="modal">
    <div class="modal-dialog">
      <div class="modal-header">
        <h3>Monthly Budget</h3>
        <button id="budgetModalClose" class="ghost-btn" type="button">âœ•</button>
      </div>
      <div class="field">
        <label>Total monthly budget</label>
        <input id="budgetModalTotal" type="number" min="0" step="1" placeholder="0" />
      </div>
      <div class="budget-modal-add">
        <input id="budgetItemName" type="text" placeholder="e.g. Rent, Netflix" />
        <input id="budgetItemAmount" type="number" step="0.01" min="0" placeholder="Amount" />
        <button id="budgetItemAdd" class="primary-btn" type="button">Add</button>
      </div>
      <div id="budgetItemsModalList" class="budget-items-modal"></div>
      <div class="modal-footer">
        <button id="budgetModalSave" class="primary-btn" type="button">Save budget</button>
      </div>
    </div>
  </div>
  <script src="app.js"></script>
  <script>
    // collapse sidebar on small screens
    (function () {
      const mq = window.matchMedia("(max-width: 768px)");
      const sidebar = document.querySelector(".sidebar");
      const labels = document.querySelectorAll(".nav-item .label, .logo-text");
      function update(e) {
        if (e.matches) {
          sidebar.classList.add("collapsed");
          labels.forEach((el) => (el.style.display = "none"));
        } else {
          sidebar.classList.remove("collapsed");
          labels.forEach((el) => (el.style.display = ""));
        }
      }
      update(mq);
      mq.addEventListener("change", update);
    })();
  </script>
</body>
</html>
